<html><body><p>Today, I am going to discuss my attempts to parse c style comments.



For example,



<strong><code>//This is a comment

</code></strong>



<strong><code>/***This is also

*** a comment ***/</code></strong>



Initially, I came up with a regex for /*...*/ style comments :

<code><strong>/\*.*\*/</strong></code>

Well, the above expression was not able to parse comments like:

<code>

/*** This is a comment ***/

</code>



I googled and came across <a href="http://ostermiller.org/findcomment.html">http://ostermiller.org/findcomment.html</a> where I found the regex:

<code><strong>/\*(.|[\r\n])*?\*/</strong></code>

This was able to match comments like the above one. But it'd also match the following /*...*/ comments which are not really comments:

<code>

s = "This is a string: /* with a comment */";

//comment1 /*

foo();

//comment2 */

</code>



I then worked on a regex for //... style comments: <code>//[^\n]*\n</code>



Then I combined the two regexes by or and my regex pattern becomes:

</p><blockquote><code><strong>//[^\n]*\n|/\*(.|[\r\n])*?\*/</strong></code></blockquote>

Now, this pattern is able to search for both: //... and /*...*/ style comments and avoid matches for patterns like:

<code>

//comment1 /*

foo();

//comment2 */</code>



One caveat that remains is the /*...*/ pattern in

<code>s = "This is a string: /* with a comment */";</code>

getting matched. If any one has a work around this issue, please comment.



I hope this helps.</body></html>